(this["webpackJsonplibrary-management"]=this["webpackJsonplibrary-management"]||[]).push([[0],{58:function(e,t,a){e.exports=a(82)},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){e.exports=a.p+"static/media/loading.81c29bc5.gif"},82:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(25),l=a.n(o),c=(a(63),a(42)),i=a(28),s=a.n(i),u=a(38),m=a(16),d=a(17),h=a(20),b=a(18),p=a(21),v=(a(65),a(22)),g={books:"/book",cart:"/cart",login:"/login"},k=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:a(66),alt:"loading"}))}}]),t}(r.a.Component),f=a(36),E=a(37),y=a(53),C=a.n(y),O=a(30),j=a.n(O),w=a(34),B=a(95),S=a(96),x=a(97),L=a(98),A=a(99),T=function(e){var t=e.id,a=e.title,n=e.author,o=(e.totalBooks,e.year),l=e.availability,c=e.image,i=e.book,s=e.handleAddToCart,u=e.handleRemoveFromCart,m=e.cart,d=e.availableDate;return r.a.createElement(B.a,{id:t,disabled:"no"==l},r.a.createElement(S.a,{src:c,alt:"loading"}),r.a.createElement(x.a,null,r.a.createElement("h3",null,a),r.a.createElement(L.a,null,"Author : ",n),r.a.createElement(L.a,null,"Year : ",o),r.a.createElement(A.a,null,r.a.createElement("strong",null,"yes"==l?r.a.createElement(w.a,{pill:!0,variant:"success",className:"badge-size"},"Available"):r.a.createElement(w.a,{pill:!0,variant:"danger"},"Unavailable"),"no"==l?r.a.createElement(w.a,{pill:!0,variant:"danger",className:"badge-size"},"Available on : ".concat(d)):"")),m.find((function(e){return e.id===t}))?r.a.createElement("button",{className:"btn btn-danger",onClick:u.bind(void 0,i)},r.a.createElement(j.a,null),"Remove from cart"):r.a.createElement("button",{disabled:"no"==l,className:"btn btn-primary",onClick:s.bind(void 0,i)},r.a.createElement(C.a,null),"Add to cart")))},N=function(e){var t=e.searchType,a=e.placeholderText,n=e.onChange;e.btnType,e.onClick;return console.log(),r.a.createElement("div",{className:"container"},r.a.createElement("input",{className:"form-control",type:t,placeholder:a,"aria-label":"Search",onChange:n}))},D=a(100),F=a(101),R=a(13),P=Object(D.a)((function(e){return{root:{display:"flex",flexDirection:"column"},formControl:{margin:e.spacing(3)},row:{display:"flex",justifyContent:"center"},margin:{margin:e.spacing(2)}}})),z=function(e){var t=e.cart,a=(e.handleRemoveFromCart,P());return r.a.createElement(R.b,{to:{pathname:"/cart"}},r.a.createElement(F.a,{color:t.length>0?"secondary":"primary",max:10,badgeContent:t.length,showZero:!0,className:a.margin},r.a.createElement(f.a,{icon:E.a,size:"3x"})))},Y=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={},a.SearchBook=function(e){a.props.handleSearch(e)},a.handleSubmit=function(e){e.preventDefault()},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bookList,a=e.cart,o=e.handleRemoveFromCart,l=e.handleAddToCart,c=(e.handleSearch,e.availableDate);return r.a.createElement(n.Fragment,null,r.a.createElement(N,{className:"container",searchType:"search",placeholderText:"Search for Books",onChange:this.SearchBook,btnType:"submit",onClick:this.handleSubmit}),r.a.createElement("h3",null,"List of Books"),t.length?r.a.createElement("div",{className:"container box"},t.map((function(e,t){return r.a.createElement(T,{id:e.id,index:t,title:e.title,totalBooks:e.noOfBooks,author:e.author,year:e.yearOfPublication,availability:e.availability,image:e.image,book:e,cart:a,handleAddToCart:l,handleRemoveFromCart:o,availableDate:c})}))):0==t.length?r.a.createElement("p",null,"No books available in the given name"):r.a.createElement(k,null))}}]),t}(n.Component),M=(a(75),a(107)),U=a(108),G=a(109),J=a(110),W=a(111),H=a(112),I=a(113),Z="https://my-json-server.typicode.com/gsprasanna/json-server",$="/data",q="/users",K=function(e){var t=Z+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))},Q=a(114),V=a(102),X=a(103),_=a(104),ee=a(106),te=a(105),ae=function(e){var t=e.cart,a=e.handleRemoveFromCart,n=(e.backToBookPage,e.modal),o=e.toggle,l=e.backdrop,c=e.keyboard,i=e.handleCheckOut;return r.a.createElement("div",null,t.length?r.a.createElement(Q.a,{isOpen:n,toggle:o,id:t.id,backdrop:l,size:"lg",keyboard:c},r.a.createElement(V.a,null,r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("strong",null,"Book Title")),r.a.createElement("td",null,r.a.createElement("strong",null,"Author")),r.a.createElement("td",null,r.a.createElement("strong",null,"Published Year"))),t.map((function(e,n){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{className:"thumbnail",src:e.image,alt:"loading"})),r.a.createElement("td",null,r.a.createElement("strong",null,e.title)),r.a.createElement("td",null,r.a.createElement("p",null,e.author)),r.a.createElement("td",null,r.a.createElement("p",null,e.yearOfPublication)),r.a.createElement("td",null,r.a.createElement(X.a,{className:"btn btn-danger",onClick:a.bind(void 0,e,t)},r.a.createElement(j.a,null))))})))),r.a.createElement(_.a,null,r.a.createElement(R.c,{to:g.books},r.a.createElement(X.a,{color:"primary",onClick:i.bind(void 0,t)},"Check out")),r.a.createElement(R.c,{to:g.books},r.a.createElement(X.a,{color:"secondary"},"Cancel"))),r.a.createElement(_.a,null,3==t.length?r.a.createElement(te.a,{color:"danger"},"You have added the maximum number of books to the cart!"):r.a.createElement(te.a,{color:"primary"},"still you can add ",3-t.length," books"))):r.a.createElement(Q.a,{isOpen:n,toggle:o,id:t.id,backdrop:l,keyboard:c},r.a.createElement(ee.a,null,"Hi Buddy!"),r.a.createElement(V.a,null,"Please Add the books to the cart!"),r.a.createElement(_.a,null,r.a.createElement(R.c,{to:g.books},r.a.createElement(X.a,{color:"secondary"},"Cancel")))))},ne=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={cart:[],modal:!0,backdrop:"static",keyboard:!1},a.toggle=function(){a.setState((function(e){return{modal:!e.modal}}))},a.backToBookPage=function(){},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({cart:this.props.cart})}},{key:"render",value:function(){var e=this.state,t=e.modal,a=e.backdrop,n=e.keyboard;return r.a.createElement(ae,{cart:this.props.cart,modal:t,toggle:this.toggle,keyboard:n,handleRemoveFromCart:this.props.handleRemoveFromCart,backToBookPage:this.backToBookPage,backdrop:a,handleCheckOut:this.props.handleCheckOut})}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={bookList:[],setBookList:[],cart:[],isOpen:!1,users:[],bookNextAvailability:""},a.loadUsersData=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(q,"GET");case 3:t=e.sent,console.log(t),a.setState({users:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.loadPostData=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K($,"GET");case 3:t=e.sent,console.log(t),a.setState({bookList:t,setBookList:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.handleSearch=function(e){console.log(e.target.value);var t=Object(c.a)(a.state.bookList),n=[];n=""!==e.target.value?t.filter((function(t){t.title.toLowerCase();var a=e.target.value;return t.title.toLowerCase().includes(a.toLowerCase())||t.author.toLowerCase().includes(a.toLowerCase())||t.genre.toLowerCase().includes(a.toLowerCase())||t.yearOfPublication.toString().includes(a.toString())})):a.state.setBookList,a.setState({bookList:n})},a.handleAddToCart=function(e){var t=a.state.cart,n=t.find((function(t){return t.id===e.id}));t.length<3?!n&&e.noOfBooks>0?(e.noOfBooks=e.noOfBooks-1)&&a.setState({cart:[].concat(Object(c.a)(a.state.cart),[e])}):e.noOfBooks="Stock not available":alert("you reached the maximum number of books added to the cart!")},a.handleRemoveFromCart=function(e){var t=a.state.cart.filter((function(t){return t.id!==e.id}));e.noOfBooks=++e.noOfBooks,a.setState({cart:t})},a.handleCheckOut=function(e){var t=a.state.bookList,n=[],r=function(a){n=t.filter((function(t){return t.id===e[a].id?t.availability="no":t.availability}))};for(var o in e)r(o);var l=new Date;l.setDate(l.getDate()+5);var c=l.getDate()+"/"+l.getMonth()+"/"+l.getFullYear();a.setState({bookList:n,cart:[],bookNextAvailability:c})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadPostData(),this.loadUsersData();var e=this.props,t=e.history;"/"===e.location.pathname&&t.push(g.books)}},{key:"render",value:function(){var e=this,t=this.state,a=t.cart,n=t.bookList,o=t.isOpen,l=t.bookNextAvailability;return r.a.createElement("div",{className:"App"},r.a.createElement(M.a,{color:"light",light:!0,expand:"md"},r.a.createElement(U.a,{href:"/"},"Smart Library"),r.a.createElement(G.a,{onClick:this.toggle}),r.a.createElement(J.a,{isOpen:o,navbar:!0},r.a.createElement(W.a,{className:"ml-auto",navbar:!0},r.a.createElement(H.a,null,r.a.createElement(I.a,{to:g.cart})),r.a.createElement(H.a,null,r.a.createElement(z,{cart:a,handleRemoveFromCart:this.handleRemoveFromCart},"Cart"))))),r.a.createElement(v.a,{path:g.cart,render:function(){return r.a.createElement(ne,{cart:a,handleRemoveFromCart:e.handleRemoveFromCart,handleCheckOut:e.handleCheckOut})}}),r.a.createElement(v.a,{path:g.books,render:function(){return r.a.createElement(Y,{bookList:n,cart:a,handleAddToCart:e.handleAddToCart,handleRemoveFromCart:e.handleRemoveFromCart,handleSearch:e.handleSearch,availableDate:l})}}))}}]),t}(n.Component),oe=Object(v.e)(re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(R.a,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.33e92dc4.chunk.js.map